{"version":3,"sources":["Bingo.js","index.js"],"names":["Bingo","props","state","position","winner","console","log","Streamlit","setComponentValue","is_winner","p","this","r","score","c","bingo","setState","prevState","args","setFrameHeight","setTimeout","center_piece","undefined","options","incr","i","map","r_val","key","c_val","src","width","alt","type","className","id","onChange","e","target","checked","check_bingo","htmlFor","startsWith","StreamlitComponentBase","withStreamlitConnection","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAQMA,G,MAAK,kDACP,WAAYC,GAAQ,IAAD,EAWb,OAXa,qBACf,cAAMA,IACDC,MAAQ,CACTC,SAAU,CACN,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,IAEjBC,QAAQ,GACV,EAiJL,OAhJA,kCAED,WACIC,QAAQC,IAAI,UASZC,IAAUC,mBAAkB,KAC/B,yBAED,WAKI,IAJA,IAAIC,GAAY,EACZC,EAAIC,KAAKT,MAAMC,SAGVS,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,IADA,IAAIC,EAAQ,EACHC,EAAI,EAAGA,EAAI,EAAGA,IACnBD,GAASH,EAAEE,GAAGE,GAEJ,IAAVD,IACAF,KAAKI,QACLN,GAAY,GAKpB,IAAK,IAAIK,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAExB,IADA,IAAID,EAAQ,EACHD,EAAI,EAAGA,EAAI,EAAGA,IACnBC,GAASH,EAAEE,GAAGE,GAEJ,IAAVD,IACAF,KAAKI,QACLN,GAAY,GAKfC,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAQ,IACtDC,KAAKI,QACLN,GAAY,GAEXC,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAQ,IACtDC,KAAKI,QACLN,GAAY,GAKhBE,KAAKK,UAAS,SAAAC,GAAS,MAAK,CACxBb,OAAQK,QAEf,+BAGD,WACIF,IAAUC,kBAAkBG,KAAKV,MAAMiB,KAAY,OACnDX,IAAUY,iBAGVC,YAAW,WACPb,IAAUY,mBACX,OACN,oBAGD,WAAU,IAAD,OAECE,OAAmDC,IAApCX,KAAKV,MAAMiB,KAAmB,aAAkB,0FAA4FP,KAAKV,MAAMiB,KAAmB,aAGzLK,OAA+CD,IAArCX,KAAKV,MAAMiB,KAAoB,cAAkB,CAAC,IAAK,IAAK,IAAK,IAAK,KAAQP,KAAKV,MAAMiB,KAAoB,cAEzHM,EAAO,EACPC,GAAK,EAET,OAAQ,oCAMJ,+BACI,+BACI,4BACI,iCACA,iCACA,iCACA,iCACA,mCAGR,+BACK,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGC,KAAI,SAACC,EAAOf,GACzB,OACI,wBAAIgB,IAAG,WAAMhB,IACR,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGc,KAAI,SAACG,EAAOf,GAQzB,OAPAW,SAGmBH,IAAfC,EAAQE,KACRA,GAAK,GAETD,IAEI,wBAAII,IAAG,WAAMhB,EAAC,YAAIE,IACN,IAANF,EAAgB,IAANE,EACR,yBAAKgB,IAAKT,EAAcU,MAAM,MAAMC,IAAI,eAExC,oCACI,2BACIC,KAAK,WACLC,UAAU,aACVC,GAAE,oBAAeX,GACjBY,SAAU,SAACC,GACP,EAAKnC,MAAMC,SAASS,GAAGE,GAAKuB,EAAEC,OAAOC,QAAU,EAAI,EACnD,EAAKvB,UAAS,SAAAC,GAAS,OAAI,EAAKf,MAAMC,YACtC,EAAKqC,iBAGb,2BAAON,UAAU,MAAMO,QAAO,oBAAejB,IACzC,yBAAKM,IAAKT,EAAcU,MAAM,MAAMC,IAAI,iBACxC,6BACMT,EAAQE,GAAGiB,WAAW,WAAanB,EAAQE,GAAGiB,WAAW,YAAe,yBAAKZ,IAAKP,EAAQE,GAAIM,MAAM,MAAMC,IAAI,iBAAoBT,EAAQE,qBAenM,EA7JM,CAASkB,MAgKLC,cAAwB5C,GCpKvC6C,IAASC,OACL,kBAAC,IAAMC,WAAU,KACb,kBAAC,EAAK,OAEVC,SAASC,eAAe,W","file":"static/js/main.39540e2d.chunk.js","sourcesContent":["import {\n    Streamlit,\n    StreamlitComponentBase,\n    withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode, useEffect, useState } from \"react\"\nimport Confetti from 'react-confetti'\n\nclass Bingo extends StreamlitComponentBase {\n    constructor(props) {\n        super(props);\n        this.state = {\n            position: [\n                [0, 0, 0, 0, 0],\n                [0, 0, 0, 0, 0],\n                [0, 0, 1, 0, 0],\n                [0, 0, 0, 0, 0],\n                [0, 0, 0, 0, 0]\n            ],\n            winner: false\n        };\n    }\n\n    bingo() {\n        console.log(\"BINGO!\")\n\n        // This is not needed since it is set in check_bingo()\n        // this.setState(prevState => ({\n        //     winner: true\n        // }));\n\n        // Method to pass back to Streamlit\n        // This currently causes the Streamlit page to redraw\n        Streamlit.setComponentValue(true)\n    }\n\n    check_bingo() {\n        let is_winner = false\n        let p = this.state.position\n\n        // Check each row to see if there's a bingo\n        for (let r = 0; r < 5; r++) {\n            let score = 0\n            for (let c = 0; c < 5; c++) {\n                score += p[r][c]\n            }\n            if (score === 5) {\n                this.bingo()\n                is_winner = true\n            }\n        }\n\n        // Check each column to see if there's a bingo\n        for (let c = 0; c < 5; c++) {\n            let score = 0\n            for (let r = 0; r < 5; r++) {\n                score += p[r][c]\n            }\n            if (score === 5) {\n                this.bingo()\n                is_winner = true\n            }\n        }\n\n        // Check the diagonals to see if there's a bing\n        if ((p[0][0] + p[1][1] + p[2][2] + p[3][3] + p[4][4]) === 5) {\n            this.bingo()\n            is_winner = true\n        }\n        if ((p[4][0] + p[3][1] + p[2][2] + p[1][3] + p[0][4]) === 5) {\n            this.bingo()\n            is_winner = true\n        }\n\n        // Set the winning state\n        // Also used to unset the winning state\n        this.setState(prevState => ({\n            winner: is_winner\n        }));\n    }\n\n\n    componentDidMount() {\n        Streamlit.setComponentValue(this.props.args[\"value\"])\n        Streamlit.setFrameHeight()\n\n        // Re-set the iframe height after 500 ms in case it didn't get set correctly the first time\n        setTimeout(() => {\n            Streamlit.setFrameHeight()\n        }, 500);\n    }\n\n\n    render() {\n        // Get the center piece image\n        const center_piece = this.props.args[\"center_piece\"] === undefined ? 'https://www.snowflake.com/wp-content/themes/snowflake/img/favicons/apple-touch-icon.png' : this.props.args[\"center_piece\"]\n\n        // Get the bingo place options\n        const options = this.props.args[\"bingo_options\"] === undefined ? ['B', 'I', 'N', 'G', 'O'] : (this.props.args[\"bingo_options\"])\n\n        var incr = 0\n        var i = -1\n\n        return (<>\n            {/* This will show confetti if the win state is true */}\n            {/* <Confetti\n                run={this.state.winner}\n                height={700}\n            /> */}\n            <table>\n                <thead>\n                    <tr>\n                        <td>B</td>\n                        <td>I</td>\n                        <td>N</td>\n                        <td>G</td>\n                        <td>O</td>\n                    </tr>\n                </thead>\n                <tbody>\n                    {[0, 0, 0, 0, 0].map((r_val, r) => {\n                        return (\n                            <tr key={`r${r}`}>\n                                {[0, 0, 0, 0, 0].map((c_val, c) => {\n                                    i++\n\n                                    // If the index doesn't exist, reset\n                                    if (options[i] === undefined) {\n                                        i = -1\n                                    }\n                                    incr++\n                                    return (\n                                        <td key={`r${r}c${c}`}>\n                                            {(r === 2 & c === 2) ?\n                                                <img src={center_piece} width=\"90%\" alt=\"Free Space\" />\n                                                :\n                                                <>\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        className=\"btnControl\"\n                                                        id={`btnControl${incr}`}\n                                                        onChange={(e) => {\n                                                            this.state.position[r][c] = e.target.checked ? 1 : 0\n                                                            this.setState(prevState => this.state.position)\n                                                            this.check_bingo()\n                                                        }}\n                                                    />\n                                                    <label className=\"btn\" htmlFor={`btnControl${incr}`}>\n                                                        <img src={center_piece} width=\"90%\" alt=\"Bingo Marker\" />\n                                                        <div>\n                                                            {(options[i].startsWith('http://') | options[i].startsWith('https://')) ? <img src={options[i]} width=\"50%\" alt=\"Bingo Option\" /> : options[i]}\n                                                        </div>\n                                                    </label>\n                                                </>\n                                            }\n                                        </td>\n                                    )\n                                })}\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n\n        </>)\n    }\n}\n\nexport default withStreamlitConnection(Bingo)","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport Bingo from \"./Bingo\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <Bingo />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)"],"sourceRoot":""}